# å‰è¨€
ä¹‹å‰ä½¿ç”¨è¿‡ Vue å¼€å‘åå°ã€ä¸­å°é¡¹ç›®ï¼Œä¹Ÿåšè¿‡ç§»åŠ¨ç«¯ H5ï¼Œå¼„è¿‡ä¸€ç‚¹å°çš„å‰ç«¯æ¶æ„ã€‚æ¯åšä¸€ä¸ªé¡¹ç›®éƒ½ä¼šæ”¶è·äº†ä¸ä¸€æ ·çš„ç»éªŒå’Œç†è§£ã€‚ä¸‹é¢æˆ‘æŠŠè¿™äº›ç‚¹ç‚¹æ»´æ»´çš„ç»éªŒæ€»ç»“ä¸‹æ¥ï¼Œåšä¸€ä¸ªç³»åˆ—çš„æ–‡ç« åˆ†äº«å’Œé˜¶æ®µæ€§çš„æ€»ç»“ã€‚

> å¸¸è§„æ“ä½œï¼Œå…ˆç‚¹èµåè§‚çœ‹å“¦ï¼ä½ çš„ç‚¹èµæ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ä¹‹ä¸€ï¼
## æ¦‚è§ˆ

![](https://user-gold-cdn.xitu.io/2019/12/30/16f5676f7940d72a?w=1898&h=1206&f=jpeg&s=294508)
## é—®é¢˜
> æˆ‘å°†ä» 16 ä¸ªæ–¹é¢æ¥è®ºè¿° vue å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›æŠ€å·§å’ŒåŸç†ã€‚å½“ç„¶ç”±äºç¯‡å¹…æœ‰é™ï¼Œå…ˆè®ºè¿°å‰ 8 ä¸ªé—®é¢˜ï¼Œä¸‹èŠ‚å°†å®Œæˆå…¨ç³»åˆ—å†…å®¹ã€‚

æœ¬ç¯‡æ–‡ç« å°†å›´ç»•ä¸‹åˆ—é—®é¢˜è¿›è¡Œè®ºè¿°ï¼š
- **å¦‚ä½•è§„èŒƒä½ çš„ git æäº¤ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆå¹¶æäº¤æ—¥å¿—ï¼Ÿ**
- **å¦‚ä½•é…ç½®å’Œä½¿ç”¨ Sass å’Œ PUG æå‡ä½ çš„ç¼–ç æ•ˆç‡ï¼Ÿ**
- **å¦‚ä½•å¤„ç†ä½ çš„ä»£ç é£æ ¼é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ perttier ä¸ eslint è§£å†³æ•ˆç‡é£æ ¼ä¸¤éš¾é—®é¢˜ï¼Ÿ**
- **å¦‚ä½•ç®¡ç†é¡µé¢çš„è·¯ç”±ï¼Œå¦‚ä½•ç¼–å†™å¼‚æ­¥è·¯ç”±ï¼Ÿ**
- **å¦‚ä½•ç¼–å†™ç»„ä»¶ï¼Œå¼•å…¥ç»„ä»¶åº“ï¼Ÿ**
- **å¦‚ä½•ç®¡ç†ä½ çš„èµ„æºï¼Œå¦‚ä½•å¼•å…¥å›¾æ ‡ï¼Œæ ·å¼ï¼Ÿ**
- **å¦‚ä½•å°è£…ä½ çš„ axiosï¼Œç®¡ç†ä½ çš„apiï¼Ÿ**
- **å¦‚ä½•ä½¿ç”¨ mock æ¨¡æ‹Ÿä½ çš„æ•°æ®ï¼Œå®ç°çœŸæ­£æ„ä¹‰çš„å‰åç«¯åˆ†ç¦»ï¼Ÿ**

# å®è·µ
> å®è·µä¹‹å‰ï¼šæˆ‘å¸Œæœ›ä½ æœ‰å¦‚ä¸‹å‡†å¤‡ï¼Œæˆ–è€…çŸ¥è¯†å‚¨å¤‡ã€‚
> - äº†è§£ `npm/yarn/git/sass/pug/vue/vuex/vue-router/axios/mock/ssr/jest`
çš„ä½¿ç”¨å’ŒåŸç†ã€‚
> - å½“ç„¶ä¸Šé¢çŸ¥è¯†ä¸äº†è§£ä¹Ÿæ²¡å…³ç³»å“ˆå“ˆå“ˆï¼Œæ–‡ç« ä¸­ä¼šæåˆ°å¤§è‡´ç”¨æ³•å’Œä½œç”¨ã€‚

## å¦‚ä½•è§„èŒƒ git æäº¤
> ä»£ç æäº¤è®°å½•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä»£ç ä¿®æ”¹æ—¥å¿—ã€‚è§„èŒƒçš„ä»£ç æäº¤è®°å½•ï¼Œä¸ç®¡åœ¨å¹³æ—¶ä»£ç å¼€å‘ç»´æŠ¤è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯åœ¨å®šä½ bug æˆ–è€…å›é€€ç‰ˆæœ¬æ¥è¯´éƒ½æ˜¯æä¸ºé‡è¦ã€‚

### åŸç†
ä¸¤ç§åšæ³•ï¼š
- è‡ªå·±æ‰‹åŠ¨è§„èŒƒ git çš„æäº¤åŸåˆ™æˆ–è€…å›¢é˜Ÿç»Ÿä¸€åˆ¶å®šã€‚è¿™ä¸ªé è‡ªè§‰ï¼Œå¥½ä¹ æƒ¯å…»æˆä¹‹åå°±æ²¡é—®é¢˜æ¥
- ä½¿ç”¨æ’ä»¶è§„èŒƒï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§

ä¸ºäº†è§„èŒƒæäº¤ï¼Œæˆ‘ä½¿ç”¨äº†å¦‚ä¸‹æ’ä»¶ï¼š
- commitizen
- conventional-changelog
- cz-conventional-changelog
- conventional-changelog-cli
#### è§£å†³æ–¹æ¡ˆ
#### å®‰è£…ç³»åˆ—æ’ä»¶ä¾èµ–
```sh
yarn add -D commitizen conventional-changelog cz-conventional-changelog
```
> å®‰è£…ä¾èµ–æ—¶ï¼Œè¦æ³¨æ„æ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒéœ€è¦çš„ã€‚æ˜¾ç„¶ `commitizen` åªåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ã€‚`-D` åªåœ¨ `dev` ç¯å¢ƒä½¿ç”¨
#### é…ç½®ä¾èµ–è·¯å¾„
åœ¨ `package.json` ä¸­æ·»åŠ é…ç½®
```js
{
    //...
    "config": {
        "commitizen": {
          "path": "./node_modules/cz-conventional-changelog"
        }
    }
}
```
åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥
```sh
git add -A
git-cz
```
å‡ºç°äº†äº¤äº’è¾“å…¥æ–¹å¼ï¼Œè§„èŒƒä½ çš„ `commit` è¾“å…¥æ ¼å¼
![](https://user-gold-cdn.xitu.io/2019/12/30/16f554235055e8f3?w=2194&h=620&f=jpeg&s=226477)

#### ç”Ÿæˆ CHANGELOG
```sh
npm i -g conventional-changelog-cli
```
å¢åŠ ä¸€ä¸ªnpm å‘½ä»¤ï¼Œå¿«é€Ÿç”Ÿæˆæ—¥å¿—
```js
"genlog": "conventional-changelog -p angular -i .github/CHANGELOG.md -s"
```
ä½¿ç”¨`yarn`å‘½ä»¤ç”Ÿæˆæ—¥å¿—
```sh
yarn genlog
```
è‡ªåŠ¨ç”Ÿæˆçš„log
```md
# 0.1.0 (2019-12-27)

### Features

* **git:** å¢åŠ commitizenå·¥å…·è§„èŒƒæäº¤ ([58e3937](https://github.com/suoyuesmile/suo-design-pro/commit/58e39370aa838fd99312f73b37d092ffadc85990))
```
## å¦‚ä½•ç®¡ç†ä»£ç é£æ ¼
> è¾ƒç»Ÿä¸€çš„ä»£ç é£æ ¼åˆ©äºé˜…è¯»ï¼Œä¹Ÿåˆ©äºåä½œã€‚

### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
ä½¿ç”¨ eslint çº¦æŸåŸºæœ¬é£æ ¼å’Œè¯­æ³•ï¼Œä½¿ç”¨ prettier è‡ªåŠ¨æ ¼å¼åŒ–ä½ çš„ä»£ç ã€‚
### å®è·µ
#### å®‰è£… eslint ä¾èµ–
```json
{
    "eslint": "^5.16.0",
    "eslint-config-standard": "^6.2.1",
    "eslint-friendly-formatter": "^2.0.7",
    "eslint-loader": "^2.1.2",
    "eslint-plugin-html": "^2.0.1",
    "eslint-plugin-promise": "^3.5.0",
    "eslint-plugin-standard": "^2.3.1",
    "eslint-plugin-vue": "^5.0.0"
}
```
ä½¿ç”¨ä¸¤ä¸ªæ’ä»¶ï¼Œä¸€ä¸ª `plugin:vue/essential`ï¼Œä¸€ä¸ªæ˜¯ `standard`ã€‚
`vue/essential` ä¸ºäº†åœ¨ vue é‡Œé¢ä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚å¦ä¸€ä¸ªæ˜¯ `standard`ã€‚
[standard æ ‡å‡†æ–‡æ¡£](https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md#javascript-standard-style)
> ä½¿ç”¨ recommend ä¹Ÿå¯ä»¥ï¼Œé‡‡ç”¨æ¨è lintï¼Œæ›´åŠ è½»é‡åŒ–
```js
module.exports = {
  root: true,
  env: {
    node: true
  },
  extends: ['plugin:vue/essential', 'standard'],
  rules: {
    quotes: ['error', 'single'],
    indent: ['error', 2, { MemberExpression: 'off' }],
    'arrow-parens': 0,
    'no-loop-func': 2,
    'space-before-function-paren': ['error', 'never'],
    indent: ['error', 2, { SwitchCase: 1 }]
  },
  parserOptions: {
    parser: require.resolve('babel-eslint'),
    ecmaVersion: 2018,
    sourceType: 'module'
  }
}
```

#### å¯ä»¥è‡ªå®šä¹‰ rules çš„è§„åˆ™
> rules çš„è§„åˆ™ { è§„åˆ™åï¼š[æ˜¯å¦å…³é—­/è§„åˆ™ç­‰çº§ï¼Œé…ç½®çš„å€¼ï¼Œåªå¯¹éƒ¨åˆ†é…ç½®] }
> `indent: ['error', 2, { SwitchCase: 1 }]` å…¼å®¹ prettierï¼Œprettier ä¼šå°†ä»£ç æ ¼å¼åŒ–æˆ eslint æŠ¥é”™çš„æƒ…å†µã€‚
> è§„åˆ™ç­‰çº§ï¼š0 å…³é—­ 1 è­¦å‘Š 2 æŠ¥é”™

### ä½¿ç”¨ prettier
#### é…ç½® prettier æ–‡ä»¶
```js
{
  "printWidth": 150,
  "singleQuote": true,
  "trailingComma": "none",
  "semi": false,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "jsxBracketSameLine": false,
  "arrowParens": "always",
  "proseWrap": "preserve",
  "overrides": [
    {
        "files": ["*.json", ".eslintrc", ".tslintrc", ".prettierrc", ".tern-project"],
        "options": {
            "parser": "json",
            "tabWidth": 2
        }
    },
    {
        "files": "*.{css,sass,scss,less}",
        "options": {
            "parser": "css",
            "tabWidth": 2
        }
    },
    {
        "files": "*.ts",
        "options": {
            "parser": "typescript"
        }
    },
    {
        "files": "*.vue",
        "options": {
            "parser": "vue"
        }
    },
    {
        "files": "*.md",
        "options": {
            "parser": "markdown"
        }
    }
  ]
}
```
#### å¼€å¯ vscode è‡ªåŠ¨æ ¼å¼åŒ–
```
{
  // prettier
  "prettier.singleQuote": true,
  "prettier.semi": false,
  "prettier.tabWidth": 2,
  "[javascript]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```
## å¦‚ä½•æå‡ç¼–ç æ•ˆç‡
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
æˆ‘ä¸»è¦ä» 3 ä¸ªæ–¹é¢æ¥åšä¸€äº›ç¼–ç æ•ˆç‡ä¸Šçš„æ”¹è¿›
- å‡çº§ä½ çš„ vue-cli å‡å°‘ webpack é…ç½®çš„æˆæœ¬
- ä½¿ç”¨ sassï¼Œåˆ©ç”¨é‡Œé¢å‡½æ•°ã€mixinsã€å˜é‡æå‡ css æ–‡ä»¶çš„å¤ç”¨
- ä½¿ç”¨ pugï¼Œå‡å°‘ html çš„ä»£ç ç¼–å†™é‡

#### å®è·µ
> `vue-cli3+ã€vue-cli4+` ç›¸æ¯”äº `vue-cli2+` æœ€å¤§çš„æ”¹å˜å°±æ˜¯å°†çº¦å®šä¿—ç§°çš„é…ç½®ï¼Œå…¨éƒ¨å…¬å…±åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯åšäº†ä¸€æ¬¡äºŒæ¬¡å°è£…ã€‚è¿™æ ·çš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬ä¸å¿…è¦åœ¨ç¹å¤šçš„é…ç½®ä»£ç ä¸­å¯»æ‰¾éœ€è¦çš„é…ç½®ã€‚

ç®€å•æ–°å»ºä¸€ä¸ªé…ç½®å…¥å£å°±èƒ½æ“ä½œæˆ‘ä»¬å¤§å¤šæ•°æƒ³è¦çš„åŠŸèƒ½ã€‚åœ¨ `root` ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª `vue.config.js` æ–‡ä»¶ï¼Œä½œä¸ºæˆ‘ä»¬ `webpack` çš„é…ç½®æ–‡ä»¶ã€‚

**åˆå§‹åŒ– vue é…ç½®**
```
const autoprefixer = require('autoprefixer')

module.exports = {
  publicPath: process.env === 'production' ? '' : '/',
  outputDir: 'dist',
  assetsDir: 'static',
  filenameHashing: true,
  lintOnSave: true,
  runtimeCompiler: false,
  transpileDependencies: [/\/node_modules\/vue-echarts\//, /\/node_modules\/resize-detector\//],
  productionSourceMap: false
}
```
ç®€å•çš„é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ª `sass` å·¥å…·ç”¨äºç¼–å†™ `sass`æ–‡ä»¶
> ç”¨æ³•è§ sass å‚è€ƒèµ„æ–™ï¼
### ä½¿ç”¨ Sass
#### å®‰è£…ä¸ä½¿ç”¨
```sh
yarn add -D sass sass-loader
```
### å¦‚ä½•å¤„ç†æ ·å¼
åœ¨ `assets` ç›®å½•ä¸­å»ºç«‹ä¸€ä¸ª styles æ–‡ä»¶ä¸“é—¨æ¥å­˜æ”¾æ ·å¼æ–‡ä»¶ï¼Œæ–°å¢å…¥å£`index.scss`æ–‡ä»¶ï¼Œä¾¿äº JavaScript å¼•å…¥ï¼Œå¢åŠ  utils.scssã€reset.scssã€varibles æ–‡ä»¶ã€‚
> è¿™äº›æ ·å¼å·¥å…·éƒ½æ˜¯ä¸ºäº†æå‡æˆ‘ä»¬ `scss` å¼€å‘æ•ˆç‡ï¼Œå…·æœ‰ç•…å¿«çš„å¼€å‘ä½“éªŒï¼
#### ä½¿ç”¨ varibles å˜é‡æ–‡ä»¶
ä¸ºäº†æå‡æˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ï¼Œå¤ç”¨æ€§ã€‚ä½¿ç”¨ `sass` å˜é‡å¿…ä¸å¯å°‘ã€‚

è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯åˆ©äºå…¨å±€ä¿®æ”¹æ ·å¼ï¼Œå¦‚æœéœ€è¦æ›´æ¢çš®è‚¤è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ”¹å…¨å±€çš„ä¸»é¢˜è‰²ï¼Œå³å¯æ›´æ¢ä¸»é¢˜ï¼Œé‚£æ ·æ›´åŠ æ–¹ä¾¿ã€‚
```scss
// ä¸»é¢˜è‰²
$color-red: #ff3333;
$color-purple: #ff33a9;
$color-orange: #ff8833;
$color-blue: #3377ff;

// æ–‡å­—è‰²
$color-black: #000;
$color-dark: #333;
$color-deep: #555;
$color-pl: #999999;
$color-weak: #B3B3B3;
$color-white: #fff;

// èƒŒæ™¯è‰²
$bg-bar: #F9F9F9;
$bg-page: #F3F3F3;
$bg-page-light: #F9F9F9;
```
ä½¿ç”¨å˜é‡ä¹‹åï¼Œsass æ–‡ä»¶ä¸ä¼šç›´æ¥ç”Ÿæ•ˆï¼Œè‡³å°‘åœ¨ vue æ–‡ä»¶ é‡Œé¢æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚
éœ€è¦åœ¨ `vue.config.js` é‡Œé¢å¢åŠ å¦‚ä¸‹é…ç½®ã€‚
```js
module.exports = {
    // ...
    css: {
        sourceMap: true,
        loaderOptions: {
            sass: {
                prependData: `
        @import "@/assets/styles/variable.scss";
        `
            }
        }
    }
}
```

#### è¦†ç›–é»˜è®¤æ ·å¼
å¸¸è§„æ“ä½œ, å¼•å…¥ reset.scss å°†é»˜è®¤æ ·å¼è¦†ç›–æ‰
```scss
/* http://meyerweb.com/eric/tools/css/reset/
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: auto;
  margin: 0;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}
```
#### ä½¿ç”¨æ ·å¼å·¥å…·é›†
æœ‰æ—¶å€™æˆ‘ä»¬å‘ç°ï¼Œå…‰æ˜¯å¼•å…¥å˜é‡è¿˜ä¸å¤Ÿï¼Œå˜é‡å·¥å…·åªèƒ½å…è®¸æˆ‘ä»¬åœ¨ css ç±»æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚å‡å¦‚æˆ‘æƒ³ç€æ¨¡ç‰ˆä¸­ç›´æ¥ä½¿ç”¨æ ·å¼ï¼Œæœ‰æ²¡æœ‰æ›´å¿«çš„æ–¹æ¡ˆå‘¢ï¼Ÿ

å½“ç„¶æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¸¸ç”¨çš„æ ·å¼å·¥å…·é›†ã€‚è®¾ç½®ä¸€äº›èƒŒæ™¯é¢œè‰²ã€å­—ä½“é¢œè‰²ã€ç›’å­æ¨¡å‹ä¸­çš„å¸¸è§„æ“ä½œã€‚
> è¦æ˜¯æœ‰è®¾è®¡è§„èŒƒæ›´å¥½å“¦ï¼Œæˆ‘ä¹Ÿæ˜¯å¸¸å¸¸å‘è®¾è®¡å¸ˆæå‡ºè¦æ±‚ï¼Œä¸€å®šè¦åˆ¶å®šå‡ºä¸€å¥—äº§å“çš„è®¾è®¡è§„èŒƒã€‚
```scss
// utils å·¥å…·
// é¢œè‰²
.bg-red {background-color: $color-red!important;}
.bg-purple {background-color: $color-purple!important;}
.bg-orange {background-color: $color-orange!important;}
.bg-blue {background-color: $color-blue!important;}
.color-red {color: $color-red!important;}
.color-purple {color: $color-purple!important;}
.color-orange {color: $color-orange!important;}
.color-blue {color: $color-blue!important;}
.text-black {color: #000;}
.text-dark {color: #333;}
.text-deep {color: #555;}
.text-weak {color: #B3B3B3;}
.text-white {color: #fff;}

// å­—ä½“
.f10 {font-size: 10px;}
.f12 {font-size: 12px;}
.f14 {font-size: 14px;}
.f15 {font-size: 15px;}
.f17 {font-size: 17px;}
.f20 {font-size: 20px;}
.f24 {font-size: 24px;}

// æ–‡å­—å¯¹é½
.tl {text-align: left;}
.tc {text-align: center;}
.tr {text-align: right;}

// æµ®åŠ¨ä¸æ¸…é™¤æµ®åŠ¨
.fl {float: left;}
.fr {float: right;}
.fix {*zoom: 1;}
.fix:after{display:table; content:''; clear:both;}

// æ˜¾ç¤º
.dn{display:none;}
.di{display:inline;}
.db{display:block;}
.dib{display:inline-block;}
.dt{display:table;}
div.dib{*display:inline; *zoom:1;}
.vm {vertical-align: middle;}
.vib {display:inline-block; vertical-align: middle;}

// å®šä½
.pr {position: relative;}
.pa {position: absolute;}
.pf {position: fixed;}

// ç›’å­æ¨¡å‹
.ml4 {margin-left: 4px;}
.mr4 {margin-right: 4px;}
.mt4 {margin-top: 4px;}
.mb4 {margin-bottom: 4px;}
.ml8 {margin-left: 8px;}
.mr8 {margin-right: 8px;}
.mt8 {margin-top: 8px;}
.mb8 {margin-bottom: 8px;}
.ml12 {margin-left: 12px;}
.mr12 {margin-right: 12px;}
.mt12 {margin-top: 12px;}
.mb12 {margin-bottom: 12px;}
.ml16 {margin-left: 16px;}
.mr16 {margin-right: 16px;}
.mt16 {margin-top: 16px;}
.mb16 {margin-bottom: 16px;}
.ml20 {margin-left: 20px;}
.mr20 {margin-right: 20px;}
.mt20 {margin-top: 20px;}
.mb20 {margin-bottom: 20px;}
.ml24 {margin-left: 24px;}
.mr24 {margin-right: 24px;}
.mt24 {margin-top: 24px;}
.mb24 {margin-bottom: 24px;}

.ml10 {margin-left: 10px;}
.mr10 {margin-right: 10px;}
.mt10 {margin-top: 10px;}
.mb10 {margin-bottom: 10px;}
.ml15 {margin-left: 15px;}
.mr15 {margin-right: 15px;}
.mt15 {margin-top: 15px;}
.mb15 {margin-bottom: 15px;}

// æŒ‰é’®ç¦ç”¨
.disabled{outline:0 none; cursor:default!important; opacity:.4; filter:alpha(opacity=40); -ms-pointer-events:none; pointer-events:none;}
```
#### å¢åŠ æ ·å¼å…¥å£æ–‡ä»¶
æœ€åä¸€æ­¥ï¼Œæ–°å»ºä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°†æ ·å¼å·¥å…·ç±»å…¨éƒ¨å¯¼å…¥è¿›æ¥ï¼Œä¾›ä¸»ç¨‹åºå¼•å…¥ã€‚
```scss
// index.scss æ–‡ä»¶
import './reset.scss';
import './varibles.scss';
improt './utils/scss';
```
åœ¨ `main.js` ä¸­ç›´æ¥å¼•å…¥ `index.scss`
```js
import '@/assets/styles/index.scss'
```
### vue ä¸­å†™æ ·å¼è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Œæœ‰å“ªäº›æŠ€å·§å‘¢ï¼Ÿ
#### é¿å…å…¨å±€æ±¡æŸ“
åœ¨é¡µé¢ä¸­å†™ `css/scss` åŠ ä¸Š `scoped`ï¼Œ`scoped` çš„åŠŸèƒ½å°±æ˜¯ä½¿é¡µé¢çš„æ ·å¼æ˜¯å±€éƒ¨çš„ï¼Œä¸è®©å½±å“å…¶ä»–é¡µé¢çš„æ ·å¼ã€‚
#### bem è§„èŒƒ
æˆ‘ä»¬å¤§å¤šæ•°äººæ—¶å€™ä¼šé‡åˆ°é—®é¢˜ï¼Œ**æ ·å¼åµŒå¥—å¤ªå¤šäº†æ€ä¹ˆå‘½å**
> BEMæ˜¯å—ï¼ˆblockï¼‰ã€å…ƒç´ ï¼ˆelementï¼‰ã€ä¿®é¥°ç¬¦ï¼ˆmodifierï¼‰çš„ç®€å†™ï¼Œç”± Yandex å›¢é˜Ÿæå‡ºçš„ä¸€ç§å‰ç«¯ CSS å‘½åæ–¹æ³•è®ºã€‚

åå­—å¤ªé•¿æ˜“è¯»æ€§å¤ªå·®
```scss
.cardbox {
    .cardbox-card {
        .cardbox-card-wrapper
            .cardbox-card-wrapper-header {
                .cardbox-card-wrapper-header-title {
                    // ...
                }
            }
            .cardbox-card-wrapper-body{
                .cardbox-card-item {
                    .cardbox-card-item-title {
                        // ...
                    }  
              }
          }
        }
    }
}
```
#### bem ä½¿ç”¨æ–¹å¼
`block-name__element-name--color`
- åŒºåˆ†å—ï¼Œå­å…ƒç´ ï¼Œä¿®é¥°å…ƒç´ 
- å—ï¼Œé¡µé¢ä¸­ç‹¬ç«‹çš„å•å…ƒ
- å­å…ƒç´ ï¼Œå—é‡Œé¢çš„å„¿å­ `card__item` ä½¿ç”¨ `__` è¿æ¥
- å­å…ƒç´ é•¿å‘½åä½¿ç”¨ - è¿æ¥
- ä¿®é¥°ï¼ˆæ˜“å˜çš„ï¼‰`card__item--warning` ä½¿ç”¨ `--`


æˆ‘ä»¬ä½¿ç”¨ bem æ”¹é€ æ ·å¼
```scss
.cardbox {
    &__header {
        &__title {
            //...
        }
    }
    &__body {
        &__item {
            &__title {
                //...
            }
        }
    }
}
```
> bem ä¸€èˆ¬æ¨èå­å…ƒç´ åµŒå¥—å°½é‡åœ¨2-3å±‚ä»¥å†…

ä½†æ˜¯æˆ‘ä»¬å‘ç°æ ·å¼å­å…ƒç´ åµŒå¥—æœ‰ç‚¹å¤šï¼Œä½¿ç”¨äº†ä¸¤é‡å­å…ƒç´ åµŒå¥—ã€‚

å¤§è‡´åŸç†æ˜¯**å°è¯•åˆ†ç¦»çˆ¶å­å…ƒç´ çš„å…³ç³»ï¼ŒæŠŠå¡ç‰‡æœ¬èº«å½“ä½œä¸€ä¸ªå—çœ‹å¾…ã€‚**

ä¸‹é¢æ¥è¯•ç€å»å‡å°‘åµŒå¥—ï¼š
```scss
.cardbox {
    &__header {
        &__title {
            //...
        }
    }
    &__body {
        .card {
            &__title {
                //...
            }
        }
    }
}
```

ç°åœ¨ç¼–å†™æ ·å¼æ•ˆç‡æé«˜ä¹Ÿæ›´åŠ è§„èŒƒäº†ï¼Œé‚£ä¹ˆç¼–å†™ HTML ä¹Ÿæ˜¯æœ‰å¾ˆå¤šç´¯èµ˜çš„ä»£ç ã€‚

æ¯”å¦‚å¤§å¤šæ•°æ ‡ç­¾éƒ½æ˜¯å‰å¼€åé—­çš„ã€‚é€šè¿‡ pug æˆ‘ä»¬å¯ä»¥çœç•¥å¾ˆå¤šå­—ç¬¦çš„æ•²æ‰“ï¼Œä¸‹é¢æˆ‘ä»¬è°ˆè°ˆå¦‚ä½•ä½¿ç”¨ pug ç¼–å†™æ¨¡ç‰ˆã€‚
> å½“ç„¶å–œæ¬¢å“ªç§ HTML ç¼–å†™é£æ ¼è§äººè§æ™ºå•¦ï¼Œæˆ‘è‡ªå·±æ›´åŠ å€¾å‘ pugï¼Œé‚£ç§ç¼©è¿›å’Œç®€æ´çš„è¡¨è¾¾ï¼Œæœ‰ç§åœ¨å†™ scss çš„æ„Ÿè§‰ã€‚
### å¦‚ä½•ä½¿ç”¨ pug

#### ç±»ä¼¼ sassï¼Œé¦–å…ˆå®‰è£… pug å’Œ pug çš„ loader
```
yarn add -D pug pug-html-loader pug-plain-loader
``` 
#### å®Œæˆé…ç½®
```js
module.exports = {
  // ...
  chainWebpack: (config) => {
    config.module
      .rule('pug')
      .test(/\.pug$/)
      .use('pug-html-loader')
      .loader('pug-html-loader')
      .end()
  }
}
```
#### ç¼–å†™ pug ä»£ç 
ä½¿ç”¨ scss å·¥å…·ä¸ pug å®Œç¾æ­é…ï¼Œå°‘å†™å¾ˆå¤šä»£ç 
```html
// ç™»é™†
<template lang="pug">
  .login
    h1.login__title.ml15 æ³¨å†Œ/ç™»é™†
    .login__form.mt15.ml15
      van-field.login__form__input(placeholder="è¾“å…¥æ‰‹æœºå·" v-model="phone")
      .login__form__protocol.mt15
        .login__form__protocol__tips.dib.text-weak æ³¨å†Œæˆ–ç™»å½•å³è¡¨ç¤ºåŒæ„
        .login__form__protocol__name.dib.color-orange ã€Šç”¨æˆ·åè®®ã€‹
      app-button.mt15(size="large"
        theme="orange"
        :disabled="phone.length !== 11"
        @click="handleSubmit"
      ) ä¸‹ä¸€æ­¥
</template>
```
æˆ‘ä»¬å·²ç»å¼•å…¥äº†æ ·å¼ï¼Œæ¥ä¸‹æ¥æˆ‘å°†è°ˆè°ˆå…¶ä»–èµ„æºçš„å¼•å…¥
## å¦‚ä½•ç®¡ç†ä½ çš„èµ„æº
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
æˆ‘æš‚æ—¶æŠŠèµ„æºåˆ†ä¸ºä¸‹é¢å‡ ç§
- å­—ä½“
- ICON
- å›¾ç‰‡
- æ ·å¼
![](https://user-gold-cdn.xitu.io/2019/12/30/16f55578916de772)
æŠŠä»–ä»¬å„è‡ªæ–°å»ºä¸€ä¸ªç›®å½•ï¼Œéƒ½æ”¾åœ¨ assets ç›®å½•ä¸‹é¢åˆ†é—¨åˆ«ç±»ï¼Œä¾›å…¶ä»–åœ°æ–¹è°ƒç”¨ã€‚
ä½¿ç”¨ alias æ›´å¥½é‡å‘½åï¼Œä½¿ä¹‹æ›´ä¾¿æ·çš„è®¿é—®åˆ°ã€‚

å¢åŠ  `vue.config.js` é…ç½® ,è®¾ç½®`assets`åˆ«å
```js
const path = require('path')
function resolve(dir) {
  return path.join(__dirname, dir)
}
module.exports = {
  //...
  chainWebpack: (config) => {
    config.resolve.alias.set('@', resolve('src')).set('@assets', resolve('src/assets'))
  }
}
```
### ICON
#### å¼•å…¥ iconfont
1. [iconfont](https://www.iconfont.cn/manage/index) é˜¿é‡Œå›¾æ ‡é¡¹ç›®ä¸­ä¸‹è½½ï¼Œå°†æ•´ä¸ªé¡¹ç›®å›¾æ ‡åŒ…ä¸€èµ·ä¸‹è½½ä¸‹æ¥

![](https://user-gold-cdn.xitu.io/2019/12/27/16f462a5119bdcdf?w=2000&h=996&f=jpeg&s=179805)

2. å¼•å…¥ iconfont æ ·å¼
éœ€è¦ä¸‹é¢å››ä¸ªæ–‡ä»¶
- `iconfont.eot`
- `iconfont.ttf`
- `iconfont.woff`
- `iconfont.woff2`

3. é¡¹ç›®ä¸­å¼•å…¥ iconfont
è®© `icon` ç»„ä»¶åŒ–
```html
<template>
  <i class="iconfont" v-on="$listeners" :class="name"></i>
</template>

<script>
export default {
  props: {
    name: String
  }
}
</script>

<style lang="scss" scoped>
.iconfont {
  font-size: 16px;
  color: $color-icon;
}
</style>
```
#### å¼•å…¥å›¾ç‰‡ä½œä¸º ICON
è®©å›¾ç‰‡ç»„ä»¶åŒ–ï¼Œæˆ‘ä»¬å†æ¥å†™ä¸€ä¸ª img ç»„ä»¶
```
<template lang="pug">
  img(
    :src="require(`@/assets/images/${name}.png`)"
    v-bind="$attrs"
    v-on="$listeners"
    :style="{'width': width ? width + 'px' : size + 'px', 'height': height ? height + 'px' : size + 'px' }")
</template>
<script>
export default {
  name: 'app-img',
  props: {
    name: {
      type: String,
      default: ''
    },
    size: {
      type: Number,
      default: 16
    },
    width: {
      type: Number,
      default: 0
    },
    height: {
      type: Number,
      default: 0
    }
  }
}
</script>
```
## å¦‚ä½•ç®¡ç†ä½ çš„è·¯ç”±
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
ä½¿ç”¨ vue-routerï¼Œä½¿ç”¨`import()` ç”Ÿæˆå¼‚æ­¥è·¯ç”±ï¼Œåªæœ‰åœ¨è®¿é—®æ—¶å€™æ‰ä¼šåŠ è½½æ¨¡å—ã€‚

ä¸ºä»€ä¹ˆä½¿ç”¨ `import()` ä¼šå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Ÿ
> MDNï¼šåœ¨æ‚¨å¸Œæœ›æŒ‰ç…§ä¸€å®šçš„æ¡ä»¶æˆ–è€…æŒ‰éœ€åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼ŒåŠ¨æ€import() æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚è€Œé™æ€å‹çš„ import æ˜¯åˆå§‹åŒ–åŠ è½½ä¾èµ–é¡¹çš„æœ€ä¼˜é€‰æ‹©ï¼Œä½¿ç”¨é™æ€ import æ›´å®¹æ˜“ä»ä»£ç é™æ€åˆ†æå·¥å…·å’Œ tree shaking ä¸­å—ç›Šã€‚

è¯´ç™½äº†å°±æ˜¯èµ·åˆ°ä¸€ä¸ª**æŒ‰éœ€åŠ è½½**çš„ç›®çš„ã€‚ç°åœ¨å¤§å¤šæ•°å®ç°çš„æŒ‰éœ€åŠ è½½ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¾èµ– `import()` è¿™ä¸ªæ–¹æ³•ã€‚
#### å®‰è£… vue-router
```sh
yarn add vue-router
```
å®‰è£…å®Œ `router`ï¼Œåœ¨ç¼–å†™ `router` å…ˆåˆ›å»ºé¡µé¢
#### æ–°å»ºä¸€ä¸ªç©ºé¡µé¢
src ç›®å½•ä¸‹æ–°å¢ views ç›®å½•å­˜æ”¾é¡µé¢æ–‡ä»¶ã€‚åˆ›å»º index ç›®å½•å’Œ home é¡µé¢
```html
<template lang="pug">
  .home é¦–é¡µ
</template>

<script>
export default {

}
</script>
<style lang="scss" scoped>
</style>
```

#### ç¼–å†™è·¯ç”±
```js
const routes = [
    {
        // é¦–é¡µ
        path: '/',
        name: 'index',
        redirect: '/home',
        component: App,
        children: [
            {
                // é¦–é¡µ
                path: 'home',
                name: 'home',
                // è·¯ç”±æ‡’åŠ è½½
                component: () =>
                    import(
                        /* webpackChunkName: "index" */ '../views/index/home.vue'
                    )
            }
        ]
    }
]
Vue.use(VueRouter)

const router = new VueRouter({
    mode: 'history',
    routes: routes,
    base: process.env.BASE_URL,
    props: true
})

export default router
```

#### ä¸ºäº†æ¶ˆé™¤ # æ˜¾å¾—è·¯å¾„æ›´åŠ å¥½çœ‹ç®€æ´ï¼Œæˆ‘ä»¬é‡‡ç”¨ history æ¨¡å¼ï¼Œä½†æ˜¯ history æ¨¡å¼æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¼‚æ­¥è·¯ç”±æ²¡æœ‰ç¼“å­˜åœ¨é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢ä¼šæ‰¾ä¸åˆ°

åœ¨ vue.config.js ä¸­å¢åŠ é…ç½®ï¼Œå¼€å‘ç¯å¢ƒå¯ä»¥è®¿é—®åˆ°ï¼Œæ¢å¤æ­£å¸¸
```js
module.exports = {
  // ...
  devServer: {
    historyApiFallback: true
  }
}
```
> å…³äºè·¯ç”±è¿˜æœ‰å¾ˆå¤šå¯ä»¥ç ”ç©¶åˆ°åœ°æ–¹ï¼Œå¯ä»¥è‡ªè¡Œç ”ç©¶å“¦ï¼

## ç»„ä»¶åŒ–å¼€å‘
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ ¹æ®ç»„ä»¶çš„å¤ç”¨åº¦ï¼Œåˆ†ç»™åŸºç¡€ï¼ˆå…¬å…±ï¼‰ç»„ä»¶å’Œä¸šåŠ¡ç»„ä»¶ã€‚

ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œå¿«é€Ÿå¼€å‘ï¼Œè¿™é‡ŒåŸºç¡€ç»„ä»¶å¤§éƒ¨åˆ†å¼•ç”¨å¼€æºç»„ä»¶ã€‚å½“ç„¶ä¸èƒ½ç›´æ¥å°±ç”¨å“¦ã€‚

ä¸€èˆ¬è¦è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œä¹Ÿå°±æ˜¯é«˜é˜¶ç»„ä»¶å¼€å‘ã€‚

1. é€šè¿‡ä¿®æ”¹å’Œè¦†ç›–å½“å‰ç»„ä»¶çš„æ ·å¼æ¥è¾¾åˆ°ä¿®æ”¹æ ·å¼çš„ä½œç”¨ã€‚
2. é€šè¿‡æ‹¦æˆªäº‹ä»¶æ¥æ›´æ”¹jsçš„é€»è¾‘ã€‚

ä¸‹é¢æˆ‘ä»¬å…ˆå¼•å…¥ `vant` ç»„ä»¶
### å®è·µ
#### å¼•å…¥ vant
```sh
yarn add vant
```
### å¯¹åŸºç¡€ç»„ä»¶è¿›è¡ŒäºŒæ¬¡å°è£…å’Œæ”¹é€ 
ä¸‹é¢ 7 æ­¥æ¥å†™å¥½ä¸€ä¸ªå…¬å…±ç»„ä»¶
1. æ–°å»ºä¸€ä¸ª `components` ç›®å½•æ¥å­˜æ”¾åŸºç¡€ç»„ä»¶
2. åŸºç¡€ç»„ä»¶å‘½åä¸º `app-xxx` æˆ– `appXxx`ï¼Œæ–°å»ºä¸€ä¸ª `app-button` ç›®å½•ï¼Œæ–°å»º `index.vue`
3. æ ¹æ®è®¾è®¡ç¨¿è®¾è®¡å’Œç¼–å†™ç»„ä»¶
> ç¼–å†™ç»„ä»¶ä¹‹å‰é¦–å…ˆè¦è®¾è®¡ç»„ä»¶ï¼Œæ ¹æ®ç»„ä»¶çš„ä¸å˜æ€§å’Œå¯å˜æ€§åŸåˆ™ç¼–å†™ã€‚ä¸å˜æ€§æ˜¯ç»„ä»¶çš„æ ¸å¿ƒï¼Œå¯å˜æ€§æ ¹æ®å‚æ•°å¯¹ç»„ä»¶å¯¹ç›¸å…³éƒ¨åˆ†è¿›è¡Œè°ƒèŠ‚ï¼Œå®ç°å¯é€‰æ‹©çš„åŠŸèƒ½ã€‚
4. å®ç°ç»„ä»¶
```html
<template lang="pug">
  div.dib
    van-button.btn(
      @click="$emit('click')"
      :class="getClass" v-bind="$attrs"
      :style="{'width': size === 'large' ? '345px': '', 'backgroundColor': getBgColor, borderColor: getBgColor, color: getBgColor}")
      slot
</template>

<script>
import { Button } from 'vant'
import Vue from 'vue'
import { getColor } from '@/utils'
Vue.use(Button)

export default {
  name: 'app-button',
  props: {
    type: {
      type: String,
      default: 'primary'
    },
    theme: {
      type: String,
      default: 'blue'
    },
    size: {
      type: String,
      default: ''
    }
  },
  computed: {
    getClass() {
      if (!this.type) {
        return ''
      }
      return `app-btn--${this.type}`
    },
    getBgColor() {
      if (!this.theme) {
        return ''
      }
      return getColor(this.theme)
    }
  }
}
</script>

<style lang="scss" scoped>
.app-btn  {
  ::v-deep &--primary {
    padding: 8px 30px;
    height: 40px;
    border-radius: 4px;
    font-size: 15px;
    font-weight: 400;
    line-height: 19px;
    color: white!important;
  }
  ::v-deep &--minor {
    padding: 5px 10px;
    height: 26px;
    border-radius: 14px;
    font-size: 12px;
    font-weight: 400;
    line-height: 16px;
    background-color: #fff!important;
  }
  ::v-deep &--rect {
    padding: 5px px;
    height: 49px;
    font-size: 14px;
    color: white!important;
  }
}
</style>
```
> ::v-deep  æ ·å¼æ·±è¦†ç›–ï¼Œscoped æƒ…å†µä¸‹è¦†ç›–ç»„ä»¶æ ·å¼ï¼Œä¸æ”¹å˜å…¶æ ·å¼
5. å†™å¥½åŸºç¡€ç»„ä»¶ READMEï¼Œä¸ºä»€ä¹ˆè¦å†™æ–‡æ¡£å‘¢ï¼Ÿå¦‚æœå¤šäººå¼€å‘åŒä¸€ä¸ªé¡¹ç›®ï¼ŒåŸºç¡€ç»„ä»¶ä¼šè¢«å…¶ä»–äººå¼•ç”¨ã€‚æ–¹ä¾¿å…¶ä»–äººä½¿ç”¨ï¼Œæ‰€ä»¥è¦å†™æ–‡æ¡£ã€‚
> ä¸€å¥è¯è¨€ï¼šåªè¦å¯èƒ½è¢«å…¶ä»–äººç”¨çš„å…¬å…±æ–¹æ³•å’Œç»„ä»¶ï¼Œæ³¨é‡Šæˆ–æ–‡æ¡£æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯¹è‡ªå·±çš„ä»£ç è´Ÿè´£å“ˆã€‚

å…¶ä»–ç”¨æ³•å‚ç…§ vant

6. å…¨å±€å¼•ç”¨ï¼ŒåŸºç¡€ç»„ä»¶è®¸å¤šé¡µé¢éƒ½ä¼šç”¨åˆ°ï¼Œå°†å…¶è®¾ç½®æˆå…¨å±€ç»„ä»¶ï¼Œå…¶ä»–åœ°æ–¹å°±ä¸å¿…å†å¼•ç”¨äº†å“¦ã€‚

æ–°å»ºä¸€ä¸ªæ–‡ä»¶ `global` å­˜æ”¾å…¨å±€ç»„ä»¶æ³¨å†Œï¼Œåœ¨ `main.js` å¼•å…¥
```js
import Vue from 'vue'
import appButton from '@/components/app-button'
Vue.component('app-button', appButton)
```
7. å†™å¥½ `demo`ï¼Œå³ä½¿æš‚æ—¶ä¸å†™å•å…ƒæµ‹è¯•ï¼Œä¹Ÿè¦å†™å¥½ä¸€ä¸ª `demo`ï¼Œä½¿ä¹‹èƒ½æ­£å¸¸çš„è¿è¡Œ

æ·»åŠ  demo é¡µé¢å’Œè·¯ç”±
```html
<template lang="pug">
  div(class="base")
    // æŒ‰é’®ç»„ä»¶
    app-button.mt4(theme="blue") ç¡®è®¤æ”¯ä»˜
    app-button(theme="orange") ç¡®è®¤æ”¯ä»˜
    app-button(theme="purple") ç¡®è®¤æ”¯ä»˜
    app-button.mt4(theme="red") ç¡®è®¤æ”¯ä»˜
    app-button(theme="grey") ç¡®è®¤æ”¯ä»˜
    app-button.mt4(theme="blue" size="large") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="orange" size="large") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="purple" size="large") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="red" size="large") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="grey" size="large") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="blue" type="minor") ç¡®è®¤æ”¶è´§
    app-button(theme="orange" type="minor") ç¡®è®¤æ”¶è´§
    app-button(theme="purple" type="minor") ç¡®è®¤æ”¶è´§
    app-button(theme="red" type="minor") ä¿®æ”¹åœ°å€
    app-button(theme="grey" type="minor") ä¿®æ”¹åœ°å€
    app-button.mt4(theme="blue" type="rect") ç¡®è®¤æ”¶è´§
    app-button(theme="orange" type="rect") ç¡®è®¤æ”¶è´§
    app-button(theme="purple" type="rect") ç¡®è®¤æ”¶è´§
    app-button(theme="red" type="rect") ä¿®æ”¹åœ°å€
    app-button(theme="grey" type="rect") ä¿®æ”¹åœ°å€
</template>
<script>
export default {
}
</script>
<style lang="scss">
</style>
```
#### å®ç°æ•ˆæœ

![](https://user-gold-cdn.xitu.io/2019/12/30/16f55700de463c65?w=1836&h=1156&f=jpeg&s=190534)

## å¦‚ä½•å°è£…è¯·æ±‚
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
åŸºæœ¬ä¸Šå°±æ˜¯å¯¹ axios çš„å°è£…ï¼Œå°è£…ä¸»è¦æœ‰ä¸¤ä¸ªç›®çš„ã€‚
- ä¿®æ”¹ä¸€äº›åŸºç¡€çš„é…ç½®ï¼šè¯·æ±‚åœ°å€ï¼Œè¶…æ—¶ï¼Œå…¶ä»–çš„æ‚ä¸ƒæ‚å…«çš„
- ç»Ÿä¸€æ“ä½œï¼šç»Ÿä¸€å¤„ç†é”™è¯¯ï¼Œç»Ÿä¸€å¤„ç†è¯·æ±‚å‚æ•°å’Œæ ¼å¼ï¼Œå“åº”å‚æ•°å’Œæ ¼å¼ã€‚ç»Ÿä¸€å¤„ç† messageï¼Œç»Ÿä¸€æ‹¦æˆªæŒ‚è½½ç­‰ç­‰ã€‚

ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç±»ä¼¼çš„æ–‡ç« äº†ï¼Œ æˆ‘è¿™é‡Œç»™å‡ºæˆ‘å¸¸ç”¨çš„å°è£…æ–¹æ¡ˆã€‚
### å®è·µ
#### æ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®è¯·æ±‚åœ°å€
```js
// .env-default.js æ–‡ä»¶
// ä¸åŒç¯å¢ƒè®¿é—®ä¸åŒçš„è·¯å¾„
const api = {
  develop: 'http://xxxx:8080',
  mock: 'http://xxxx',
  feature: 'http://xxxx',
  test: 'http://xxxx',
  production: 'http://xxxx'
}

export const baseURL = api[process.env.NODE_ENV || 'dev']
```
> å› ä¸ºæ¯ä¸ªäººå¼€å‘ç¯å¢ƒï¼Œmockç¯å¢ƒä¸ä¸€å®šç›¸åŒï¼Œè¿™ä¸ªæ–‡ä»¶å»ºè®® gitignoreå¿½ç•¥æ‰ã€‚æ¨¡ç‰ˆå¯ä»¥å†™åœ¨ readme æ–‡æ¡£ä¸­ï¼Œå¯åŠ¨é¡¹ç›®æ—¶åŠ å…¥æ–‡ä»¶ã€‚

#### æ–°å»ºä¸€ä¸ª `utils` å·¥å…·
æˆ‘ä»¬ç°åœ¨å°† axios å°è£…æˆæˆ‘ä»¬è‡ªå·±éœ€è¦çš„é…ç½®ï¼Œç„¶åå®šä¹‰å››ä¸ªå¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ä¾›è°ƒç”¨
```js
// utils/http.js æ–‡ä»¶
import axios from 'axios'
import { baseURL } from '../../.env-defalut.js'

// axios é…ç½®
const defaultBaseUrl = 'http://localhost:8080/'
// é»˜è®¤è¶…æ—¶æ—¶é—´
axios.defaults.timeout = 15000
// æ•°æ®æ¥å£åŸŸåç»Ÿä¸€é…ç½®.env
axios.defaults.baseURL = baseURL || defaultBaseUrl 

// http request æ‹¦æˆªå™¨
axios.interceptors.request.use(
  (config) => {
    config.headers = {
    }
    return config
  },
  (err) => {
    return Promise.reject(err)
  }
)

// http response æ‹¦æˆªå™¨
axios.interceptors.response.use(
  (response) => {
    return response
  },
  (error) => {
    const data = error.response.data
    return Promise.reject(data || error)
  }
)

export default axios

/**
 * fetch è¯·æ±‚æ–¹æ³•
 * @param {*} url
 * @param {*} params
 */
export function fetch(url, params = {}) {
  return new Promise((resolve, reject) => {
    axios
      .get(url, {
        params: params
      })
      .then((response) => {
        resolve(response.data)
      })
      .catch((err) => {
        reject(err)
      })
  })
}

/**
 * post è¯·æ±‚æ–¹æ³•ï¼Œå‘é€æ•°æ®æ ¼å¼ json
 * @param {*} url
 * @param {*} data
 */
export function post(
  url,
  data = {},
  config = {
    transformRequest: [
      function(fData, headers) {
        headers['Content-Type'] = 'application/json'
        return JSON.stringify(fData)
      }
    ]
  }
) {
  return new Promise((resolve, reject) => {
    axios.post(url, data, config).then(
      (response) => {
        resolve(response.data)
      },
      (err) => {
        reject(err)
      }
    )
  })
}

/**
 * patch è¯·æ±‚æ–¹æ³•ï¼Œå‘é€æ•°æ®æ ¼å¼ json
 * @param {*} url
 * @param {*} data
 */
export function patch(url, data = {}) {
  return new Promise((resolve, reject) => {
    axios
      .patch(url, data, {
        transformRequest: [
          function(fData, headers) {
            headers['Content-Type'] = 'application/json'
            return JSON.stringify(fData)
          }
        ]
      })
      .then(
        (response) => {
          resolve(response.data)
        },
        (err) => {
          reject(err)
        }
      )
  })
}

export function del(url, data) {
  return new Promise((resolve, reject) => {
    axios.delete(url, { data }).then(
      (response) => {
        resolve(response.data)
      },
      (err) => {
        reject(err)
      }
    )
  })
}
```

## å¦‚ä½•ç®¡ç† api
### åŸç†
é¦–å…ˆè¦åˆ¶å®šä¸€ä¸ª api çš„åŸåˆ™
æˆ‘çš„åŸåˆ™ä¸€èˆ¬æ˜¯è¿™äº›ï¼š
- å¹²å‡€çº¯ç²¹
- å°½é‡ä¸è¦å¤„ç†æ•°æ®
- ç‹¬ç«‹å•ä¸€ä¸è¦äº’ç›¸ä¾èµ–

å¥½å¤„åœ¨äºï¼šä¸åœ¨ api é‡Œé¢å¤„ç†æ•°æ®ï¼Œapié‡Œé¢çš„æ¥å£å’Œæ¥å£æ–‡æ¡£ä¸Šä¸€æ ·ã€‚é¿å…åˆ«äººå¼•ç”¨æˆ‘çš„apiï¼Œè¿˜è¦å»çœ‹ä»£ç ï¼Œåªéœ€è¦çœ‹æ–‡æ¡£å°±å¥½äº†ã€‚

> ä¾‹å­ï¼šæƒ³è±¡è¿™æ ·ä¸€ç§æƒ…å†µï¼Œåˆ«äººå¼•ç”¨äº†æˆ‘çš„ apiï¼Œçªç„¶å‘ç°å“åº”æ•°æ®ä¸å¯¹ã€‚é¦–å…ˆå®ƒæ’æŸ¥åˆ°é¡µé¢æ•°æ®æ²¡æ›´æ”¹ã€‚çœ‹äº†apiæ–‡æ¡£ï¼Œæ•°æ®ä¹Ÿæ²¡é—®é¢˜ï¼Œæœ€åå‘ç°æˆ‘åœ¨å†™ api çš„æ—¶å€™è¿›è¡Œäº†å¤„ç†ï¼Œè¿™ä¸ª api å‘¢åˆä¸èƒ½æ”¹åŠ¨ï¼Œæ”¹äº†å½±å“æˆ‘è‡ªå·±çš„æ¨¡å—ã€‚åªèƒ½å®ƒåœ¨é‡æ–°å†™ä¸€ä¸ªapiï¼Œè¿™æ ·æ˜¾å¾—å¾ˆç¹æ‚äº†ï¼Œä¸å¤Ÿå¹²å‡€ä¼˜é›…ã€‚
```js
import { fetch, post } from '@/utils/http'

// ç”¨æˆ·ç™»é™†
export const login = data => post('/user/login', data)

// è·å–ç”¨æˆ·ä¿¡æ¯
export const getUserInfo = (data) => fetch('/api/user/info', data)
```
å¦‚æœéœ€è¦å¤„ç†æ•°æ®ï¼Œè¦ä¹ˆä½¿ç”¨ä¸€ä¸ªä¸­é—´å·¥å…·å¤„ç†ï¼Œè¦ä¹ˆåœ¨é¡µé¢é‡Œé¢å¤„ç†ã€‚å½“ç„¶è¿˜æ˜¯å®é™…é—®é¢˜å®é™…åˆ†æã€‚

## å¦‚ä½•ä½¿ç”¨`mock`æ¨¡æ‹Ÿæ•°æ®
### åŸç†ä¸è§£å†³æ–¹æ¡ˆ
ä¸€èˆ¬å°±æ˜¯ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€æ˜¯æ¨¡æ‹Ÿåç«¯ï¼Œä½¿ç”¨è¿œç¨‹åœ¨çº¿ JSON æœåŠ¡å™¨ã€‚å¦å¤–ä¸€ç§æ­å»ºæœ¬åœ° JSON æˆ–è€… ä½¿ç”¨ç°æˆçš„ Node æœåŠ¡å™¨æ‹¦æˆªè¯·æ±‚ã€‚
> è¿™ä¸¤ç§æ–¹å¼å„æœ‰åƒç§‹ï¼Œæ²¡æœ‰ä¼˜åŠ£ä¹‹åˆ†ï¼Œé€‚åˆå°±æ˜¯æœ€å¥½çš„ã€‚
### è¿œç¨‹åœ¨çº¿`mock`
æˆ‘ç”¨è¿‡çš„è¿œç¨‹åœ¨çº¿`mock`
- apizzaï¼šå¥½ç”¨ï¼ŒåŠŸèƒ½é½å…¨ï¼Œå–œæ¬¢ä»–çš„æ–‡ä»¶å±•å¼€ç›®å½•`api`ï¼Œå…è´¹ç‰ˆåªæ”¯æŒ 2 ä¸ªäººå…±åŒç¼–è¾‘
- swaggerï¼šå¼€æºå…è´¹ï¼Œ`api`ç®¡ç†å¤ªå‡Œä¹±ï¼Œ
- rap/rap2ï¼šå¼€æºå…è´¹ï¼Œå¯ä»¥æ­å»ºæœ¬åœ°`api`ï¼Œéœ€è¦è‡ªå·±æ­å»º

ä½¿ç”¨è¿œç¨‹`mock`çš„ä¼˜ç‚¹ï¼š
- ä¸éœ€è¦åœ¨é¡¹ç›®å†…éƒ¨å¢åŠ `mock`
- åŠŸèƒ½æ›´åŠ å…¨é¢å®Œå–„
- å¯ä»¥åœ¨æ¥å£æ–‡æ¡£åŸºç¡€ä¸Š`mock`ï¼Œä¸æ¥å£æ–‡æ¡£æ”¾åœ¨ä¸€èµ·æŸ¥çœ‹æ›´åŠ æ–¹ä¾¿ã€‚

ç¼ºç‚¹ï¼šéœ€è¦è‡ªå·±å¦å¤–æ­å»ºæœåŠ¡å™¨ï¼Œåªæ”¯æŒé™æ€çš„`mock`ï¼Œä¸èƒ½ä¸å•å…ƒæµ‹è¯•ç»“åˆä½¿ç”¨
### æœ¬åœ°JSON mock
- ä½¿ç”¨ `webpack` å†…éƒ¨ mock é…ç½®
```js
devServer: {
    // æ¥å£æœªå®ç°æƒ…å†µä¸‹ï¼Œä½¿ç”¨mock
    before: require('./mock')
}
```
åŸºæœ¬åŸç†ï¼šä¸»è¦æ˜¯ä½¿ç”¨ node è¯»å–æ–‡ä»¶ï¼Œè½¬æ¢æˆ JSON æ ¼å¼ï¼Œä½¿ç”¨`mock.js` æ¨¡æ‹Ÿæ•°æ®ï¼Œæœ€å webpack æ‹¦æˆªè¯·æ±‚ç”Ÿæˆ`json`å“åº”æ•°æ®
```js
const Mock = require('mockjs')

module.exports = (app) => {
    function getJsonFile (filePath) {
        var json = fs.readFileSync(path.resolve(__dirname, filePath), 'utf-8')
        return JSON.parse(json)
    },
    const returnMock = (datafile, res, req) => {
        setTimeout(() => {
            var json
            if (/\.json$/.test(datafile)) {
                // jsonæ–‡ä»¶æš´éœ²çš„æ˜¯mockçš„æ¨¡æ¿
                json = getJsonFile(datafile)
            } else if (/\.js$/.test(datafile)) {
                json = require(datafile)(req.query)
            }
            res.json(Mock.mock(json))
        }, 500)
    }
}
```
- ä½¿ç”¨ `json-server` æ­å»º
ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ æ­¥
1. `npm` å®‰è£… `json-server`
2. ç¼–å†™ `npm` è„šæœ¬å‘½ä»¤ï¼Œå¼•å…¥ `mock` é…ç½®æ–‡ä»¶
3. ç¼–å†™ `mock` è·¯ç”±åŒ¹é…è§„åˆ™
> æ¯”è¾ƒç®€å•è¿™é‡Œä¸è¯¦ç»†æè¿°äº†ï¼

æœ¬åœ°çš„ç¼ºç‚¹åœ¨äºéœ€è¦
- å‰ç«¯éœ€è¦æ ¹æ®`api`æ–‡æ¡£å†™`mock`æ•°æ®æ ¼å¼
- åŠŸèƒ½æ²¡æœ‰è¿œç¨‹`mock`é‚£ä¹ˆå®Œå–„ï¼Œæ”¯æŒ`restful`éœ€è¦å»ç ”ç©¶ä¸‹
- ä¹Ÿæ˜¯éœ€è¦é…ç½®ç›¸å…³`mock`å·¥å…·

ä¼˜ç‚¹åœ¨äº
- ä¸ç”¨æŸ¥çœ‹ç¼–è¾‘`api`æ–‡æ¡£
- åœ¨ä»£ç ä¸­å°±å¯ä»¥æ›´æ”¹å’ŒæŸ¥çœ‹`mock`æ•°æ®
- æ”¯æŒä½¿ç”¨`JavaScipt`åŠ¨æ€å¤„` mock`ï¼Œå¯ä»¥ä¸å•å…ƒæµ‹è¯•ç»“åˆä½¿ç”¨
# æ€»ç»“
æœ¬ç¯‡æ–‡ç« è€—è´¹ä½œè€…ä¸€ä¸ªå¤šæ˜ŸæœŸçš„ä¸šä½™æ—¶é—´ï¼Œå­˜æ‰‹å·¥æ•²æ‰“ 6000+å­—ï¼ŒåŒæ—¶æ”¶é›†ï¼Œæ•´ç†ä¹‹å‰å¾ˆå¤šæŠ€å·§å’Œè¾¹å†™ä½œè¾¹**æ€è€ƒ**å’Œ**æ€»ç»“**ã€‚å¦‚æœèƒ½å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¾¿æ˜¯å®ƒæœ€å¤§çš„ä»·å€¼ã€‚éƒ½çœ‹åˆ°è¿™é‡Œè¿˜ä¸**ç‚¹èµ**ï¼Œå¤ªè¿‡ä¸å»å•¦ï¼ğŸ˜„

ç”±äºæŠ€æœ¯æ°´å¹³æœ‰é™ï¼Œæ–‡ç« ä¸­å¦‚æœ‰é”™è¯¯åœ°æ–¹ï¼Œè¯·åœ¨è¯„è®ºåŒºæŒ‡å‡ºï¼Œæ„Ÿè°¢ï¼

æ–‡ä¸­å¤§å¤šæ•°ä»£ç å°†åœ¨[suo-design-pro]( https://github.com/suoyuesmile/suo-design-pro) ä¸­æ›´æ–°
> é¡¹ç›®æœ‰æ—¶é—´ä¼šå°½é‡å®Œå–„

å†™å®è·µæ€»ç»“æ€§æ–‡ç« çœŸçš„å¾ˆè€—è´¹æ—¶é—´ã€‚å¦‚ä½•æ–‡ç« ä¸­æœ‰å¸®åˆ°ä½ çš„åœ°æ–¹**åˆ†äº«ä¸‹**å‘—ï¼Œè®©æ›´å¤šäººçœ‹åˆ°ï¼

# ä¸‹èŠ‚å†…å®¹é¢„å‘Š

- **å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶ï¼Œä»¥åŠç»„ä»¶ç¼–å†™çš„æ€è€ƒä¸åŸåˆ™ï¼Ÿ**
- **å¦‚ä½•ä½¿ç”¨vuex ä»¥åŠå®ƒçš„åº”ç”¨åœºæ™¯å’ŒåŸç†**
- **å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨**
- **å¦‚ä½•ä½¿ç”¨ Jest æµ‹è¯•ä½ çš„ä»£ç ï¼ŸTDD ä¸ BDD çš„æ¯”è¾ƒ**
- **å›é¡¾ vue çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»–ä»¬éƒ½ä½¿ç”¨å“ªäº›åœºæ™¯ï¼Ÿ**
- **ä½¿ç”¨ mixins ä¸ ç»„ä»¶çš„åŒºåˆ«ï¼Œå¦‚ä½•å……åˆ†çš„å¤ç”¨ä»£ç ï¼Ÿ**
- **vue æŠ€æœ¯æ ˆæ¶æ„è®¾è®¡ä¸Šçš„æ€è€ƒï¼Œå¦‚ä½•ç¼–å†™è‡ªå·±çš„ç»„ä»¶åº“ï¼Ÿ**
- **vue ssr åŸç†åŠå…¶åº”ç”¨**

# å‚è€ƒèµ„æ–™
- [commitizen](https://github.com/commitizen/cz-cli)
- [MDN import()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import)
- [vant æ–‡æ¡£](https://youzan.github.io/vant/#/zh-CN/intro)
- [eslint æ–‡æ¡£](https://eslint.org/)
- [vue-router æ–‡æ¡£](https://router.vuejs.org/zh/)
- [sass æ–‡æ¡£](https://www.sasscss.com/getting-started/)
- [axios æ–‡æ¡£](https://github.com/axios/axios)

# å¼€æºé¡¹ç›®
ä¸Šè¿°åŠŸèƒ½é…ç½®ï¼Œå‡**å°†**åœ¨ [suo-design-pro](https://github.com/suoyuesmile/suo-design-pro) ä¸­å®ç°ï¼Œå¸Œæœ›èƒ½æŒç»­å…³æ³¨ï¼